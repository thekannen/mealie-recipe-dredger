# Recipe Dredger Configuration
# Copy this file to .env and customize for your setup

# =============================================================================
# MEALIE CONNECTION
# =============================================================================
MEALIE_ENABLED=true
MEALIE_URL=http://192.168.1.X:9000
MEALIE_API_TOKEN=your_mealie_token_here

# Mealie import timeout in seconds
MEALIE_IMPORT_TIMEOUT=20

# =============================================================================
# RUNTIME BEHAVIOR
# =============================================================================

# Dredger mode safety: defaults to true; set false for live import.
DRY_RUN=true

# Logging verbosity (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Optional entrypoint overrides (Docker compose already sets sensible defaults)
# TASK=dredger
# RUN_MODE=once
# RUN_INTERVAL_SECONDS=21600

# =============================================================================
# SCRAPE CONTROL
# =============================================================================
TARGET_RECIPES_PER_SITE=50
SCAN_DEPTH=1000

# =============================================================================
# PERFORMANCE & RATE LIMITING
# =============================================================================
CRAWL_DELAY=2.0
RESPECT_ROBOTS_TXT=true
CACHE_EXPIRY_DAYS=7

# Retry queue behavior for transient failures (timeouts, 429, 5xx)
MAX_RETRY_ATTEMPTS=3

# Cleaner worker count
MAX_WORKERS=2

# =============================================================================
# SITE SOURCE OVERRIDE (OPTIONAL)
# =============================================================================
# Path to a JSON file (absolute or relative) OR comma-separated URLs.
# If unset, the app reads ./sites.json, then falls back to built-in defaults.
# SITES=/app/sites.json
# SITES=https://example.com,https://another-blog.com
